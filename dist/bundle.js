(()=>{"use strict";var t={619:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),o=n.n(r),a=n(645),i=n.n(a)()(o());i.push([t.id,"html,body{scroll-behavior:smooth;margin:0;padding:0}body{width:100%;height:100vh;margin:0 auto;display:flex;flex-direction:column;background-color:#000}.filter,.container{padding:10px}button{text-transform:uppercase;margin:10px 0;cursor:pointer}input[type=submit]{cursor:pointer}h2,h3,span.model{color:#fff}svg{position:relative;left:90px;top:3px}.container span.model{margin-left:10px}.container .track{margin:10px 5px;border-bottom:1px solid #f0f8ff}.container .car{position:relative}.container .car svg{transition:all linear}.container .car .point-a,.container .car .point-b{position:absolute;padding:10px;color:#fff;display:inline-block;border:solid 1px #fff;border-radius:5px;cursor:pointer}.container .car .point-a{left:0}.container .car .point-b{left:45px}.container .car img.flag{position:absolute;right:100px;bottom:-5px;width:65px;height:auto}.container .car .model{color:bisque}",""]);const s=i},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},81:t=>{t.exports=function(t){return t[1]}},401:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var r=n(379),o=n.n(r),a=n(795),i=n.n(a),s=n(569),c=n.n(s),l=n(565),d=n.n(l),u=n(216),p=n.n(u),h=n(589),m=n.n(h),f=n(619),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=p(),o()(f.Z,v);const g=f.Z&&f.Z.locals?f.Z.locals:void 0},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},i=[],s=0;s<t.length;s++){var c=t[s],l=r.base?c[0]+r.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var m=o(h,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var s=n(a[i]);e[s].references--}for(var c=r(t,o),l=0;l<a.length;l++){var d=n(a[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=c}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},940:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CarService=void 0,e.CarService=class{getCars(){return fetch("http://localhost:3000/garage",{method:"GET"}).then((t=>t.json()))}start(t){return fetch("http://localhost:3000/engine?"+new URLSearchParams({id:t.toString(),status:"started"}),{method:"PATCH"}).then((t=>t.json()))}create(t){return fetch("http://localhost:3000/garage",{method:"POST",body:t}).then((t=>t.json()))}delete(t){return fetch(`http://localhost:3000/garage/${t}`,{method:"DELETE"}).then((t=>t.json()))}}},607:(t,e,n)=>{e.S=void 0;const r=n(194);e.S=new r.Race,e.S.init()},194:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Race=void 0;const r=n(940),o=n(873);n(401),e.Race=class{constructor(){this.router=new o.Router({mode:"hash",root:"/"}),this.cars=[],this._carService=new r.CarService,this._container=null}init(){this._carService.getCars().then((t=>{this.cars=t,this.render()}))}render(){const t=document.createElement("div");t.setAttribute("class","filter"),t.innerHTML='\n        <div>\n            <button>To garage</button>\n            <button>To winners</button>\n        </div>\n        <form id="formCreate" class="create">\n            <input type="text" name="name" id="new-car">\n            <input type="color" name="color" class="color-choose">\n            <input type="submit" class="color1" value="CREATE">\n        </form>\n        <form >\n            <input type="text" id="update-car">\n            <input type="color" class="color-choose">\n            <input type="submit" class="color1" value="UPDATE">\n        </form>\n        <div>\n            <button id="race-btn">Race</button>\n            <button id="reset-btn">Reset</button>\n            <button class="color1" id="generate">Generate cars</button>\n        </div>',document.body.append(t);const e=document.getElementById("formCreate");e&&(e.onsubmit=t=>{if(t.preventDefault(),t.target){const e=new FormData(t.target),n=Object.fromEntries(e);this.create(n.name,n.color)}}),this._container=document.createElement("div"),this._container.setAttribute("class","container"),this._container.innerHTML='\n        <h2 class="garage-count">Garage<span id="count-in-garage"> (4)</span></h2>\n        <h3 class="page">Page #1</h3>',this.cars.forEach((t=>{this.renderCar(t)}))}delete(t){this._carService.delete(t).then((()=>{const e=this.cars.findIndex((e=>e.id===t));this.cars.splice(e,1),this.cars.forEach((t=>{this.renderCar(t)}))}))}start(t){this._carService.start(t).then((e=>{const n=document.getElementById(`car-${t}`);n&&(n.style.left="calc(100% - 100px)",n.style.transitionDuration=e.distance/e.velocity/1e3+"s")}))}stop(t){const e=document.getElementById(`car-${t}`);e&&(e.style.left="90px",e.style.transitionDuration="0s")}create(t,e){const n={name:t,color:e};this._carService.create(n).then((t=>{const e=Object.assign(Object.assign({},n),{id:t.id});this.cars.push(e),this.renderCar(e)}))}renderCar(t){if(!this._container)return;const e=document.createElement("div");e.setAttribute("class","track");const n=document.createElement("div");n.setAttribute("class","point-a"),n.textContent="A";const r=document.createElement("div");r.setAttribute("class","point-b"),r.textContent="B",n.onclick=()=>{this.start(t.id)},r.onclick=()=>{this.stop(t.id)};const o=document.createElement("div");o.setAttribute("class","control"),o.innerHTML=`\n            \n            <span class="model">${t.name}</span>`;const a=document.createElement("div");a.setAttribute("class","car"),a.innerHTML=`\n        \n        <svg id="car-${t.id}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="${t.color}" width="100px" height="60px" viewBox="0 -39.69 122.88 82.88" version="1.1" id="Layer_1" xml:space="preserve" transform="rotate(0)matrix(-1, 0, 0, 1, 0, 0)">\n            <g id="SVGRepo_bgCarrier" stroke-width="0"/>\n            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>\n            <g id="SVGRepo_iconCarrier"> <style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style> <g> <path class="st0" d="M103.94,23.97c5.39,0,9.76,4.37,9.76,9.76c0,5.39-4.37,9.76-9.76,9.76c-5.39,0-9.76-4.37-9.76-9.76 C94.18,28.34,98.55,23.97,103.94,23.97L103.94,23.97z M23,29.07v3.51h3.51C26.09,30.86,24.73,29.49,23,29.07L23,29.07z M26.52,34.87H23v3.51C24.73,37.97,26.09,36.6,26.52,34.87L26.52,34.87z M20.71,38.39v-3.51H17.2 C17.62,36.6,18.99,37.96,20.71,38.39L20.71,38.39z M17.2,32.59h3.51v-3.51C18.99,29.49,17.62,30.86,17.2,32.59L17.2,32.59z M105.09,29.07v3.51h3.51C108.18,30.86,106.82,29.49,105.09,29.07L105.09,29.07z M108.6,34.87h-3.51v3.51 C106.82,37.97,108.18,36.6,108.6,34.87L108.6,34.87z M102.8,38.39v-3.51h-3.51C99.71,36.6,101.07,37.96,102.8,38.39L102.8,38.39z M99.28,32.59h3.51v-3.51C101.07,29.49,99.71,30.86,99.28,32.59L99.28,32.59z M49.29,12.79c-1.54-0.35-3.07-0.35-4.61-0.28 C56.73,6.18,61.46,2.07,75.57,2.9l-1.94,12.87L50.4,16.65c0.21-0.61,0.33-0.94,0.37-1.55C50.88,13.36,50.86,13.15,49.29,12.79 L49.29,12.79z M79.12,3.13L76.6,15.6l24.13-0.98c2.48-0.1,2.91-1.19,1.41-3.28c-0.68-0.95-1.44-1.89-2.31-2.82 C93.59,1.86,87.38,3.24,79.12,3.13L79.12,3.13z M0.46,27.28H1.2c0.46-2.04,1.37-3.88,2.71-5.53c2.94-3.66,4.28-3.2,8.65-3.99 l24.46-4.61c5.43-3.86,11.98-7.3,19.97-10.2C64.4,0.25,69.63-0.01,77.56,0c4.54,0.01,9.14,0.28,13.81,0.84 c2.37,0.15,4.69,0.47,6.97,0.93c2.73,0.55,5.41,1.31,8.04,2.21l9.8,5.66c2.89,1.67,3.51,3.62,3.88,6.81l1.38,11.78h1.43v6.51 c-0.2,2.19-1.06,2.52-2.88,2.52h-2.37c0.92-20.59-28.05-24.11-27.42,1.63H34.76c3.73-17.75-14.17-23.91-22.96-13.76 c-2.67,3.09-3.6,7.31-3.36,12.3H2.03c-0.51-0.24-0.91-0.57-1.21-0.98c-1.05-1.43-0.82-5.74-0.74-8.23 C0.09,27.55-0.12,27.28,0.46,27.28L0.46,27.28z M21.86,23.97c5.39,0,9.76,4.37,9.76,9.76c0,5.39-4.37,9.76-9.76,9.76 c-5.39,0-9.76-4.37-9.76-9.76C12.1,28.34,16.47,23.97,21.86,23.97L21.86,23.97z"/> </g> </g>\n        </svg>\n        <img src="./assets/images/flag.png" class="flag" alt="flag">`,a.prepend(o),a.append(n),a.append(r),document.body.append(this._container),this._container.append(e),e.append(a);const i=document.createElement("button");i.setAttribute("class","select"),i.textContent="Select";const s=document.createElement("button");s.setAttribute("class","remove"),s.textContent="Remove",o.prepend(s),o.prepend(i),s.onclick=()=>{this._container&&(this._container.innerHTML="",this.delete(t.id))},document.getElementById("race-btn").onclick=()=>{this.cars.forEach((t=>this.start(t.id)))},document.getElementById("reset-btn").onclick=()=>{this.cars.forEach((t=>{this.stop(t.id)}))}}}},873:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Router=void 0,e.Router=class{constructor(t){this.mode=null,this.root="/",this.routes=[],this.mode="hash",this.current="",this.intervalTimer=null,t.mode&&(this.mode=t.mode),t.root&&(this.root=t.root),this.listen()}add(t,e){this.routes.push({path:t,calback:e})}remove(t){for(let e=0;e<this.routes.length;e+=1)this.routes[e].path===t&&this.routes.slice(e,1)}flush(){this.routes=[]}clearSlashes(t){return t.toString().replace(/\/$/,"").replace(/^\//,"")}getFragment(){let t="";const e=window.location.href.match(/#(.*)$/);return t=e?e[1]:"",this.clearSlashes(t)}navigate(t){window.location.href=`${window.location.href.replace(/#(.*)$/,"")}#${t}`}listen(){this.intervalTimer&&clearInterval(this.intervalTimer),this.intervalTimer=setInterval(this.interval.bind(this),50)}interval(){console.log("1:",this.current,"2:",this.getFragment()),this.current!==this.getFragment()&&(this.current=this.getFragment(),this.routes.some((t=>{const e=this.current.match(t.path);return!!e&&(e.shift(),t.calback.apply({},[...e]),e)})))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0,n(607)})();